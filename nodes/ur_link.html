<script type="text/javascript">
    RED.nodes.registerType('ur_link', {
        category: 'config',
        color: 'rgb( 63, 173, 181)',
        defaults: {
            name: { value: 'Google' },
            folder: { type: 'ur_folder', required: false },
            link: { value: 'https://www.google.com' },
            icon: { value: 'new-window' },
            target: {
                value: 'newtab',
                validate: function () {
                    return true;
                },
            },
            order: { value: 0 },
        },
        inputs: 0,
        outputs: 0,
        hasUsers: false,
        align: 'right',
        icon: 'ur_link.png',
        paletteLabel: 'link',
        label: function () {
            return this.name || 'link';
        },
        labelStyle: function () {
            return this.name ? 'node_label_italic' : '';
        },
        oneditprepare: function () {
            document.getElementById('node-config-input-target-opentab').checked = this.target === 'newtab';
            document.getElementById('node-config-input-target-openthis').checked = this.target === 'thistab';
        },
        oneditsave: function () {
            var t = 'newtab';
            if (document.getElementById('node-config-input-target-openthis').checked) {
                t = 'thistab';
            }
            this.target = t;
        },
    });
</script>

<script type="text/html" data-template-name="ur_link">
    <div class="form-row">
        <label for="node-config-input-name"
            ><i class="fa fa-tag"></i> <span data-i18n="ur_link.label.name"></span
        ></label>
        <input type="text" id="node-config-input-name" />
    </div>
    <div class="form-row">
        <label for="node-config-input-folder"
            ><i class="fa fa-folder-o"></i> <span data-i18n="ur_page.label.folder"></span
        ></label>
        <input type="text" id="node-config-input-folder" />
    </div>
    <div class="form-row">
        <label for="node-config-input-link"
            ><i class="fa fa-link"></i> <span data-i18n="ur_link.label.link"></span
        ></label>
        <input type="text" id="node-config-input-link" />
    </div>
    <div class="form-row">
        <label for="node-config-input-icon"
            ><i class="fa fa-image"></i> <span data-i18n="ur_link.label.icon"></span
        ></label>
        <input type="text" id="node-config-input-icon" />
    </div>
    <div class="form-row">
        <label><i class="fa fa-link"></i> <span data-i18n="ur_link.label.open-in"></span></label>
        <input
            type="radio"
            id="node-config-input-target-opentab"
            name="open-link-method"
            style="width:20px; margin-top:0px; margin-bottom:5px"
            checked
        />
        <label for="node-config-input-target-opentab" data-i18n="ur_link.label.new-tab"></label><br />
        <input
            type="radio"
            id="node-config-input-target-openthis"
            name="open-link-method"
            style="width:20px; margin-left:104px; margin-top:0px; margin-bottom:5px"
        />
        <label for="node-config-input-target-openthis" data-i18n="ur_link.label.this-tab"></label><br />
    </div>
    <!-- <div class="form-tips" data-i18n="[html]ur_link.tip"></div> -->
</script>

<script type="text/html" data-help-name="ur_link">
    <!-- <p>
        The <b>Icon</b> can be defined, as either a
        <a href="https://klarsys.github.io/angular-material-icons/" target="_blank">Material Design icon</a>
        <i>(e.g. 'check', 'close')</i> or a
        <a href="https://fontawesome.com/v4.7.0/icons/" target="_blank">Font Awesome icon</a> <i>(e.g. 'fa-fire')</i>,
        or a <a href="https://github.com/Paul-Reed/weather-icons-lite/blob/master/css_mappings.md">Weather icon</a>. You
        can use the full set of google material icons if you add 'mi-' to the icon name. e.g. 'mi-videogame_asset'.
    </p>
    <p>
        The <b>Open in</b> field controls whether the link opens in a <i>New Tab</i>, or if the link is opened within an
        <i>iframe</i> on the same page. Some sites, including Google, do not allow the rendering of their page inside an
        iframe. If you select the <i>iframe</i> option and the site does not show, this is simply because that site
        forbids the use of it inside an iframe.
    </p> -->
</script>
